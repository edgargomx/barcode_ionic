<ion-header>
	<ion-toolbar>
		<ion-title>
			Detalles de Registro
		</ion-title>
		<ion-buttons start>
				<span ion-text color="primary" showWhen="ios">Cancel</span>
				<ion-icon name="md-close" showWhen="android, windows"></ion-icon>
			<button ion-button (click)="dismiss()">
			</button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>
<ion-content class="centrado">
	<p class="centrado titulo-evento">{{userInfo.evento}}</p>
	<div class="card-background-page">
    <ion-grid>
			<ion-row>
				<ion-col col-12 col-lg-6>
					<ion-card>
						<img src="assets/imgs/san-francisco.jpg"/>
						<div class="card-title">{{ userInfo.numero }}</div>
						<div class="card-subtitle">{{ userInfo.distancia }}</div>
					</ion-card>
				</ion-col>
				<ion-col col-12 col-lg-6>
					<ion-card>
						<ion-card-content>
							<p class="titulo">{{ userInfo.nombre.toUpperCase() }} {{ userInfo.paterno.toUpperCase() }} {{ userInfo.materno.toUpperCase() }}</p>
							<p>{{ userInfo.categoria }} ({{ sexo }})</p>
							<p>21 años</p>
							<button ion-button round (click)="entregarPaquete()" *ngIf="userInfo.kit_entregado === null && !showFirma"> Entregar Kit</button>
							<p *ngIf="userInfo.kit_entregado !== null" class="alert"  color="secondary">
								Kit Entregado<br>{{ userInfo.kit_entregado }}
							</p>
                <p *ngIf="userInfo.kit_entregado !== null" class="alert">
                    Entregado a: <br>{{ representanteData.nombre }}
                  </p>
						</ion-card-content>
					</ion-card>
				</ion-col>
				<ion-col col-12>
					e
				</ion-col>
			</ion-row>
		</ion-grid>
	</div>
	<ion-list>
		<div *ngIf="userInfo != undefined">
			<ion-item>
				<p>Tipo Código : </p> {{ userInfo.codigo }} 
			</ion-item>
			<ion-item>
				<p>Estatus Pago : </p>{{ userInfo.status }} 
			</ion-item>
			<ion-item>
				<p>Productos :</p>
				<ul>
					<li *ngFor="let p of productos">{{ p }}</li>
				</ul>											
				<!--p>Lista Compra : {{ userInfo.codigo }} </p-->										 
				<!--p>Lista Asientos Trasporte : {{ userInfo.numero }} </p-->
			</ion-item>
        <div *ngIf="showFirma">
            <ion-item>
                <ion-label>Representante : </ion-label>
                <ion-checkbox [disabled]="userInfo.kit_entregado !== null" color="blue" [(ngModel)]="representante" (click)="checkRepresentante()"></ion-checkbox>
            </ion-item>
            <div *ngIf="showDatosRepresentante">
                <ion-item>
                  <ion-label>Nombre Representante</ion-label>
                  <ion-input [disabled]="userInfo.kit_entregado !== null" type="text" value="" [(ngModel)]="representanteData.nombre"></ion-input>
                </ion-item>
                <ion-list>
                    <ion-label>Documentos entregados: </ion-label>
                  <ion-item style="margin-left: 130px;">
                    <ion-label>Copia Credencial</ion-label>
                    <ion-checkbox [disabled]="userInfo.kit_entregado !== null" color="blue" [(ngModel)]="representanteData.documentos.copiacredencial"></ion-checkbox>
                  </ion-item>            
                  <ion-item style="margin-left: 130px;">
                    <ion-label>Carta Poder</ion-label>
                    <ion-checkbox [disabled]="userInfo.kit_entregado !== null" color="blue" [(ngModel)]="representanteData.documentos.cartapoder"></ion-checkbox>
                  </ion-item>
                </ion-list>
            </div>       

            <signature-pad *ngIf="userInfo.kit_entregado === null" [options]="signaturePadOptions" (onBeginEvent)="drawStart()" (onEndEvent)="drawComplete()" #signature ></signature-pad>            
            <img *ngIf="userInfo.kit_entregado !== null" style="max-width: 100%; height: auto;" src="{{ imgFirma }}" />
        </div>
			<div *ngIf="showFirma && userInfo.kit_entregado === null">
				<button ion-button round (click)="cleanSingArea()" > Limpiar</button>
				<button ion-button round (click)="saveSing()" > Guardar</button>
			</div>
		</div>
		<!--button ion-button round (click)="showAreaSing()" *ngIf="userInfo.kit_entregado === null"> Firmar</button-->
		<button ion-button round (click)="entregarPaquete()" *ngIf="userInfo.kit_entregado === null && !showFirma"> Entregar Kit</button>
		<ion-item *ngIf="userInfo.kit_entregado !== null" class="text-red-center">
			<p>Kit Entregado : </p>{{ userInfo.kit_entregado }}
		</ion-item>				
		<button ion-button round (click)="dismiss()">Cerrar</button>
	</ion-list>
</ion-content>